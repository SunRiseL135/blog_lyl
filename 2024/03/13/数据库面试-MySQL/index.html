<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="数据库面试-MySQL"><meta name="keywords" content="面试"><meta name="author" content="lyl_L-,undefined"><meta name="copyright" content="lyl_L-"><title>数据库面试-MySQL【lyl'blog】</title><link rel="stylesheet" href="/blog_lyl/css/fan.css"><link rel="stylesheet" href="/blog_lyl/css/thirdparty/jquery.mCustomScrollbar.min.css"><link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css"><link rel="icon" href="/blog_lyl/L.ico"><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- script(src=url_for("/js/mathjax/mathjax.js"))--><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {inlineMath: [['$', '$'], ['\\(', '\\)']]}
});
</script><script>var isPassword = '' || false;
if (isPassword) {
    if (prompt('请输入文章密码') !== '') {
        alert('密码错误！');
        history.back();
    }
}</script><script>window.GLOBAL_CONFIG = {
  root: '/blog_lyl/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  gitment: {},
  valine: {},
  twikoo: {},
}</script><meta name="generator" content="Hexo 7.1.1"><link rel="alternate" href="/blog_lyl/atom.xml" title="lyl'blog" type="application/atom+xml">
</head><body><canvas id="universe"></canvas><!--#body--><div id="sidebar"><div class="toggle-sidebar-info button-hover"><span data-toggle="文章目录">站点概览</span></div><div class="sidebar-toc"><div class="sidebar-toc-title">目录</div><div class="sidebar-toc-progress"><span class="progress-notice">您已阅读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc-progress-bar"></div></div><div class="sidebar-toc-content" id="sidebar-toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E3%80%90MySQL-%E5%9F%BA%E7%A1%80%E3%80%91"><span class="toc-number">1.</span> <span class="toc-text">【MySQL 基础】</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93-%E4%BB%80%E4%B9%88%E6%98%AF%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9F"><span class="toc-number">1.1.</span> <span class="toc-text">– 什么是关系型数据库？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93-%E4%BB%80%E4%B9%88%E6%98%AF-SQL%EF%BC%9F"><span class="toc-number">1.2.</span> <span class="toc-text">– 什么是 SQL？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93-%E4%BB%80%E4%B9%88%E6%98%AF-MySQL%EF%BC%9F"><span class="toc-number">1.3.</span> <span class="toc-text">– 什么是 MySQL？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93-MySQL-%E6%9C%89%E4%BB%80%E4%B9%88%E4%BC%98%E7%82%B9%EF%BC%9F"><span class="toc-number">1.4.</span> <span class="toc-text">– MySQL 有什么优点？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93-MySQL-%E5%AD%97%E6%AE%B5%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.5.</span> <span class="toc-text">– MySQL 字段类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93-%E6%95%B4%E6%95%B0%E7%B1%BB%E5%9E%8B%E7%9A%84-UNSIGNED-%E5%B1%9E%E6%80%A7%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8%EF%BC%9Funsigned"><span class="toc-number">1.6.</span> <span class="toc-text">– 整数类型的 UNSIGNED 属性有什么用？unsigned</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93-CHAR-%E5%92%8C-VARCHAR-%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E2%98%85"><span class="toc-number">1.7.</span> <span class="toc-text">– CHAR 和 VARCHAR 的区别是什么？★</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93-VARCHAR-100-%E5%92%8C-VARCHAR-10-%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.8.</span> <span class="toc-text">– VARCHAR(100)和 VARCHAR(10)的区别是什么？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93-DECIMAL-%E5%92%8C-FLOAT-DOUBLE-%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.9.</span> <span class="toc-text">– DECIMAL 和 FLOAT&#x2F;DOUBLE 的区别是什么？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93-%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8-TEXT-%E5%92%8C-BLOB%EF%BC%9F"><span class="toc-number">1.10.</span> <span class="toc-text">– 为什么不推荐使用 TEXT 和 BLOB？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93-DATETIME-%E5%92%8C-TIMESTAMP-%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.11.</span> <span class="toc-text">– DATETIME 和 TIMESTAMP 的区别是什么？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93-NULL-%E5%92%8C-%E2%80%98%E2%80%99-%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.12.</span> <span class="toc-text">– NULL 和 ‘’ 的区别是什么？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93-Boolean-%E7%B1%BB%E5%9E%8B%E5%A6%82%E4%BD%95%E8%A1%A8%E7%A4%BA%EF%BC%9Ftinyint-1"><span class="toc-number">1.13.</span> <span class="toc-text">– Boolean 类型如何表示？tinyint(1)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E3%80%90MySQL-%E5%9F%BA%E7%A1%80%E6%9E%B6%E6%9E%84%E3%80%91"><span class="toc-number">2.</span> <span class="toc-text">【MySQL 基础架构】</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E3%80%90MySQL-%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E3%80%91"><span class="toc-number">3.</span> <span class="toc-text">【MySQL 存储引擎】</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93-MySQL-%E6%94%AF%E6%8C%81%E5%93%AA%E4%BA%9B%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%EF%BC%9F%E9%BB%98%E8%AE%A4%E4%BD%BF%E7%94%A8%E5%93%AA%E4%B8%AA%EF%BC%9F"><span class="toc-number">3.1.</span> <span class="toc-text">– MySQL 支持哪些存储引擎？默认使用哪个？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93-MySQL-%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E6%9E%B6%E6%9E%84%E4%BA%86%E8%A7%A3%E5%90%97%EF%BC%9F"><span class="toc-number">3.2.</span> <span class="toc-text">– MySQL 存储引擎架构了解吗？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93-MyISAM-%E5%92%8C-InnoDB-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F%E2%98%86"><span class="toc-number">3.3.</span> <span class="toc-text">– MyISAM 和 InnoDB 有什么区别？☆</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93-MyISAM-%E5%92%8C-InnoDB-%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%EF%BC%9F"><span class="toc-number">3.4.</span> <span class="toc-text">– MyISAM 和 InnoDB 如何选择？</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E3%80%90MySQL-%E7%B4%A2%E5%BC%95%E3%80%91"><span class="toc-number">4.</span> <span class="toc-text">【MySQL 索引】</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info-avatar"><img class="author-info-avatar-img" src="/blog_lyl/images/Java.png"></div><div class="author-info-name">lyl_L-</div><div class="author-info-description"></div><div class="links-buttons"><a class="links-button button-hover" href="https://github.com/SunRiseL135" target="_blank">GitHub<i class="icon-dot bg-color4"></i></a></div><div class="author-info-articles"><a class="author-info-articles-archives article-meta" href="/blog_lyl/archives"><span class="pull-top">日志</span><span class="pull-bottom">13</span></a><a class="author-info-articles-tags article-meta" href="/blog_lyl/tags"><span class="pull-top">标签</span><span class="pull-bottom">4</span></a><a class="author-info-articles-categories article-meta" href="/blog_lyl/categories"><span class="pull-top">分类</span><span class="pull-bottom">10</span></a></div></div></div><div id="main-container"><header><div id="menu-outer"><i class="menu-list-icon fas fa-bars"></i><nav id="menu-inner"><a class="menu-item" href="/blog_lyl">首页</a><a class="menu-item" href="/blog_lyl/tags">标签</a><a class="menu-item" href="/blog_lyl/categories">分类</a><a class="menu-item" href="/blog_lyl/archives">归档</a><a class="menu-item" href="/blog_lyl/about">关于</a></nav><div class="right-info"><a class="title-name" href="/blog_lyl/">lyl'blog</a><span id="now-time"></span></div></div></header><div id="content-outer"><div id="content-inner"><article id="post"><div class="post-header"><div class="title">数据库面试-MySQL</div><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> 发表于 2024-03-13 | 更新于 2024-03-13</time><!--time.button-hover.post-date #[i.fas.fa-calendar-alt.article-icon(aria-hidden="true")] #[=__('post.modified')] #[=date(page['updated'], config.date_format)]--><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/blog_lyl/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/blog_lyl/tags/%E9%9D%A2%E8%AF%95/">面试</a></div></div></div><div class="main-content"><p>持续补充…</p>
<span id="more"></span>



<h3 id="【MySQL-基础】"><a href="#【MySQL-基础】" class="headerlink" title="【MySQL 基础】"></a>【MySQL 基础】</h3><h4 id="–-什么是关系型数据库？"><a href="#–-什么是关系型数据库？" class="headerlink" title="– 什么是关系型数据库？"></a>– 什么是关系型数据库？</h4><p>关系型数据库（RDB，Relational Database）就是一种<strong>建立在关系模型的基础上的数据库</strong>。<strong>关系模型表明了数据库中所存储的数据之间的联系</strong>（一对一、一对多、多对多）。大部分关系型数据库都支持事务的四大特性(<strong>ACID</strong>)。</p>
<h4 id="–-什么是-SQL？"><a href="#–-什么是-SQL？" class="headerlink" title="– 什么是 SQL？"></a>– 什么是 SQL？</h4><p>一种结构化查询语言(Structured Query Language)，专门用来与数据库打交道，目的是提供一种从数据库中读写数据的简单有效的方法。</p>
<p>几乎所有的主流关系数据库都支持 SQL ，适用性非常强。并且，一些非关系型数据库也兼容 SQL 或者使用的是类似于 SQL 的查询语言。</p>
<h4 id="–-什么是-MySQL？"><a href="#–-什么是-MySQL？" class="headerlink" title="– 什么是 MySQL？"></a>– 什么是 MySQL？</h4><p><strong>MySQL 是一种关系型数据库，主要用于持久化存储我们的系统中的一些数据比如用户信息。</strong></p>
<p>由于 MySQL 是开源免费并且比较成熟的数据库，因此，MySQL 被大量使用在各种系统中。任何人都可以在 GPL(General Public License) 的许可下下载并根据个性化的需要对其进行修改。MySQL 的默认端口号是<strong>3306</strong>。</p>
<h4 id="–-MySQL-有什么优点？"><a href="#–-MySQL-有什么优点？" class="headerlink" title="– MySQL 有什么优点？"></a>– MySQL 有什么优点？</h4><ol>
<li>成熟稳定，功能完善。</li>
<li>开源免费。</li>
<li>文档丰富，既有详细的官方文档，又有非常多优质文章可供参考学习。</li>
<li>开箱即用，操作简单，维护成本低。</li>
<li>兼容性好，支持常见的操作系统，支持多种开发语言。</li>
<li>社区活跃，生态完善。</li>
<li>事务支持优秀， InnoDB 存储引擎默认使用 REPEATABLE-READ 并不会有任何性能损失，并且，InnoDB 实现的 REPEATABLE-READ 隔离级别其实是可以解决幻读问题发生的。</li>
<li>支持分库分表、读写分离、高可用。</li>
</ol>
<h4 id="–-MySQL-字段类型"><a href="#–-MySQL-字段类型" class="headerlink" title="– MySQL 字段类型"></a>– MySQL 字段类型</h4><ul>
<li><strong>数值类型</strong>：整型（TINYINT、SMALLINT、MEDIUMINT、INT 和 BIGINT）、浮点型（FLOAT 和 DOUBLE）、定点型（DECIMAL）</li>
<li><strong>字符串类型</strong>：CHAR、VARCHAR、TINYTEXT、TEXT、MEDIUMTEXT、LONGTEXT、TINYBLOB、BLOB、MEDIUMBLOB 和 LONGBLOB 等，最常用的是 CHAR 和 VARCHAR。</li>
<li><strong>日期时间类型</strong>：YEAR、TIME、DATE、DATETIME 和 TIMESTAMP 等。</li>
</ul>
<h4 id="–-整数类型的-UNSIGNED-属性有什么用？unsigned"><a href="#–-整数类型的-UNSIGNED-属性有什么用？unsigned" class="headerlink" title="– 整数类型的 UNSIGNED 属性有什么用？unsigned"></a>– 整数类型的 UNSIGNED 属性有什么用？unsigned</h4><p>MySQL 中的整数类型可以使用可选的 UNSIGNED 属性来<strong>表示不允许负值的无符号整数</strong>。使用 UNSIGNED 属性可以将正整数的上限提高一倍，因为它不需要存储负数值。</p>
<h4 id="–-CHAR-和-VARCHAR-的区别是什么？★"><a href="#–-CHAR-和-VARCHAR-的区别是什么？★" class="headerlink" title="– CHAR 和 VARCHAR 的区别是什么？★"></a>– CHAR 和 VARCHAR 的区别是什么？★</h4><p>主要区别在于：<strong>CHAR 是定长字符串，VARCHAR 是变长字符串。</strong></p>
<ul>
<li><p><strong>CHAR</strong> 在<strong>存储时</strong>会<strong>在右边填充空格</strong>以达到指定的长度，<strong>检索时</strong>会<strong>去掉空格</strong>；</p>
<p><strong>VARCHAR</strong> 在<strong>存储时</strong>需要使用 1 或 2 个<strong>额外字节记录</strong>字符串的<strong>长度</strong>，<strong>检索时不</strong>需要<strong>处理</strong>。</p>
</li>
<li><p><strong>CHAR</strong> 更适合存储<strong>长度较短或者长度都差不多的字符串</strong>，例如 <em>Bcrypt 算法、MD5 算法加密后的密码、身份证号码</em>。</p>
<p><strong>VARCHAR</strong> 类型适合存储<strong>长度不确定或者差异较大的字符串</strong>，例如<em>用户昵称、文章标题</em>等。</p>
</li>
<li><p>CHAR(M) 和 VARCHAR(M) 的 M 都代表能够保存的字符数的最大值，无论是字母、数字还是中文，每个都只占用一个字符。</p>
</li>
</ul>
<h4 id="–-VARCHAR-100-和-VARCHAR-10-的区别是什么？"><a href="#–-VARCHAR-100-和-VARCHAR-10-的区别是什么？" class="headerlink" title="– VARCHAR(100)和 VARCHAR(10)的区别是什么？"></a>– VARCHAR(100)和 VARCHAR(10)的区别是什么？</h4><p> <strong>VARCHAR(100)和 VARCHAR(10)能存储的字符范围不同，但二者存储相同的字符串，所占用磁盘的存储空间其实是一样的。</strong></p>
<ul>
<li>VARCHAR (100) <strong>可以满足更大范围的字符存储需求，有更好的业务拓展性</strong>。而 VARCHAR(10)存储<strong>超过 10 个字符时，就需要修改表结构才可以</strong>。</li>
<li>VARCHAR(100) 会消耗更多的内存。这是因为 VARCHAR 类型在内存中操作时，通常会分配固定大小的内存块来保存值，即使用字符类型中定义的长度。</li>
</ul>
<h4 id="–-DECIMAL-和-FLOAT-DOUBLE-的区别是什么？"><a href="#–-DECIMAL-和-FLOAT-DOUBLE-的区别是什么？" class="headerlink" title="– DECIMAL 和 FLOAT&#x2F;DOUBLE 的区别是什么？"></a>– DECIMAL 和 FLOAT&#x2F;DOUBLE 的区别是什么？</h4><p>DECIMAL 和 FLOAT 的区别是：<strong>DECIMAL 是定点数，FLOAT&#x2F;DOUBLE 是浮点数。DECIMAL 可以存储精确的小数值，FLOAT&#x2F;DOUBLE 只能存储近似的小数值。</strong></p>
<h4 id="–-为什么不推荐使用-TEXT-和-BLOB？"><a href="#–-为什么不推荐使用-TEXT-和-BLOB？" class="headerlink" title="– 为什么不推荐使用 TEXT 和 BLOB？"></a>– 为什么不推荐使用 TEXT 和 BLOB？</h4><p>TEXT 类型类似于 CHAR（0-255 字节）和 VARCHAR（0-65,535 字节），但可以存储更长的字符串，即长文本数据，例如博客内容。</p>
<p>数据库规范通常不推荐使用 BLOB 和 TEXT 类型，这两种类型具有一些缺点和限制，例如：</p>
<ul>
<li>不能有默认值。</li>
<li>在使用临时表时无法使用内存临时表，只能在磁盘上创建临时表（《高性能 MySQL》书中有提到）。</li>
<li>检索效率较低。</li>
<li>不能直接创建索引，需要指定前缀长度。</li>
<li>可能会消耗大量的网络和 IO 带宽。</li>
<li>可能导致表上的 DML 操作变慢。</li>
</ul>
<h4 id="–-DATETIME-和-TIMESTAMP-的区别是什么？"><a href="#–-DATETIME-和-TIMESTAMP-的区别是什么？" class="headerlink" title="– DATETIME 和 TIMESTAMP 的区别是什么？"></a>– DATETIME 和 TIMESTAMP 的区别是什么？</h4><p>DATETIME 类型没有时区信息，TIMESTAMP 和<strong>时区有关</strong>。</p>
<p>TIMESTAMP 只需要使用 4 个字节的存储空间，但是 DATETIME 需要耗费 8 个字节的存储空间。但是，这样同样造成了一个问题，Timestamp 表示的时间范围更小。</p>
<h4 id="–-NULL-和-‘’-的区别是什么？"><a href="#–-NULL-和-‘’-的区别是什么？" class="headerlink" title="– NULL 和 ‘’ 的区别是什么？"></a>– NULL 和 ‘’ 的区别是什么？</h4><p><code>NULL</code> 跟 <code>&#39;&#39;</code>(空字符串)是两个完全不一样的值，区别如下：</p>
<ul>
<li><code>NULL</code> 代表一个<strong>不确定的值</strong>,就算是两个 <code>NULL</code>,它俩也不一定相等。例如，<code>SELECT NULL=NULL</code>的结果为 false，但是在我们使用<code>DISTINCT</code>,<code>GROUP BY</code>,<code>ORDER BY</code>时,<code>NULL</code>又被认为是相等的。</li>
<li><code>&#39;&#39;</code>的<strong>长度是 0，是不占用空间的</strong>，而<code>NULL</code> 是需要占用空间的。</li>
<li><code>NULL</code> 会<strong>影响聚合函数的结果</strong>。例如，<code>SUM</code>、<code>AVG</code>、<code>MIN</code>、<code>MAX</code> 等聚合函数会忽略 <code>NULL</code> 值。 <code>COUNT</code> 的处理方式取决于参数的类型。如果参数是 <code>*</code>(<code>COUNT(*)</code>)，则会统计所有的记录数，包括 <code>NULL</code> 值；如果参数是某个字段名(<code>COUNT(列名)</code>)，则会忽略 <code>NULL</code> 值，只统计非空值的个数。</li>
<li>查询 <code>NULL</code> 值时，必须<strong>使用 <code>IS NULL</code> 或 <code>IS NOT NULLl</code> 来判断</strong>，而不能使用 &#x3D;、!&#x3D;、 &lt;、&gt; 之类的比较运算符。而<code>&#39;&#39;</code>是可以使用这些比较运算符的。</li>
</ul>
<p>看了上面的介绍之后，相信你对另外一个高频面试题：“<strong>为什么 MySQL 不建议使用 <code>NULL</code> 作为列默认值？</strong>”也有了答案。</p>
<h4 id="–-Boolean-类型如何表示？tinyint-1"><a href="#–-Boolean-类型如何表示？tinyint-1" class="headerlink" title="– Boolean 类型如何表示？tinyint(1)"></a>– Boolean 类型如何表示？tinyint(1)</h4><p>MySQL 中没有专门的布尔类型，而是用 <strong>TINYINT(1)</strong> 类型来表示布尔值。<strong>TINYINT(1) 类型可以存储 0 或 1，分别对应 false 或 true。</strong></p>
<h3 id="【MySQL-基础架构】"><a href="#【MySQL-基础架构】" class="headerlink" title="【MySQL 基础架构】"></a>【MySQL 基础架构】</h3><p> <a target="_blank" rel="noopener" href="https://javaguide.cn/database/mysql/how-sql-executed-in-mysql.html">SQL 语句在 MySQL 中的执行过程</a> ★</p>
<ol>
<li><strong>连接器：</strong> 身份认证和权限相关(登录 MySQL 的时候)。</li>
<li><strong>查询缓存：</strong> 执行查询语句的时候，会先查询缓存（MySQL 8.0 版本后移除，因为这个功能不太实用）。</li>
<li><strong>分析器：</strong> 没有命中缓存的话，SQL 语句就会经过分析器，分析器说白了就是要先看你的 SQL 语句要干嘛，再检查你的 SQL 语句语法是否正确。</li>
<li><strong>优化器：</strong> 按照 MySQL 认为最优的方案去执行。</li>
<li><strong>执行器：</strong> 执行语句，然后从存储引擎返回数据。 执行语句之前会先判断是否有权限，如果没有权限的话，就会报错。</li>
<li><strong>插件式存储引擎</strong>：主要负责数据的存储和读取，采用的是插件式架构，支持 InnoDB、MyISAM、Memory 等多种存储引擎。</li>
</ol>
<h3 id="【MySQL-存储引擎】"><a href="#【MySQL-存储引擎】" class="headerlink" title="【MySQL 存储引擎】"></a>【MySQL 存储引擎】</h3><h4 id="–-MySQL-支持哪些存储引擎？默认使用哪个？"><a href="#–-MySQL-支持哪些存储引擎？默认使用哪个？" class="headerlink" title="– MySQL 支持哪些存储引擎？默认使用哪个？"></a>– MySQL 支持哪些存储引擎？默认使用哪个？</h4><p> <code>SHOW ENGINES</code> 命令来查看 MySQL 支持的所有存储引擎。</p>
<p> <code>SELECT VERSION()</code> 命令查看你的 MySQL 版本。</p>
<p><code>SHOW VARIABLES LIKE &#39;%storage_engine%&#39;</code> 命令直接查看 MySQL 当前默认的存储引擎。</p>
<ul>
<li>MySQL 5.5.5 之前，<strong>MyISAM</strong> 是 MySQL 的默认存储引擎。</li>
<li><strong>5.5.5 版本</strong>之后，<strong>InnoDB</strong> 是 MySQL 的默认存储引擎。</li>
</ul>
<h4 id="–-MySQL-存储引擎架构了解吗？"><a href="#–-MySQL-存储引擎架构了解吗？" class="headerlink" title="– MySQL 存储引擎架构了解吗？"></a>– MySQL 存储引擎架构了解吗？</h4><p>MySQL 存储引擎采用的是 <strong>插件式架构</strong> ，支持多种存储引擎，我们甚至可以为不同的数据库表设置不同的存储引擎以适应不同场景的需要。<strong>存储引擎是基于表的，而不是数据库。</strong></p>
<p>还可以根据 MySQL 定义的存储引擎实现标准接口来编写一个属于自己的存储引擎。</p>
<h4 id="–-MyISAM-和-InnoDB-有什么区别？☆"><a href="#–-MyISAM-和-InnoDB-有什么区别？☆" class="headerlink" title="– MyISAM 和 InnoDB 有什么区别？☆"></a>– MyISAM 和 InnoDB 有什么区别？☆</h4><p>MyISAM <strong>不支持事务和行级锁</strong>，而且最大的缺陷就是<strong>崩溃后无法安全恢复</strong>。</p>
<p><strong>总结</strong>：</p>
<ul>
<li>InnoDB 支持行级别的锁粒度，MyISAM 不支持，只支持表级别的锁粒度。</li>
<li>MyISAM 不提供事务支持。InnoDB 提供事务支持，实现了 SQL 标准定义了四个隔离级别。</li>
<li>MyISAM 不支持外键，而 InnoDB 支持。</li>
<li>MyISAM 不支持 MVCC，而 InnoDB 支持。</li>
<li>虽然 MyISAM 引擎和 InnoDB 引擎都是使用 B+Tree 作为索引结构，但是两者的实现方式不太一样。</li>
<li>MyISAM 不支持数据库异常崩溃后的安全恢复，而 InnoDB 支持。</li>
<li>InnoDB 的性能比 MyISAM 更强大。</li>
</ul>
<ol>
<li><p><strong>是否支持行级锁</strong></p>
<ul>
<li><strong>MyISAM 只有表级锁</strong>(table-level locking)，而 <strong>InnoDB 支持行级锁</strong>(row-level locking)和<strong>表级锁</strong>，默认行级锁。</li>
<li>也就说，MyISAM 一锁就是锁住了整张表，这在并发写的情况下是多么滴憨憨啊！这也是为什么 InnoDB 在并发写的时候，性能更牛皮了！</li>
</ul>
</li>
<li><p><strong>是否支持事务</strong></p>
<p><strong>MyISAM 不提供事务支持。</strong></p>
<p>InnoDB 提供事务支持，实现了 SQL 标准定义了四个隔离级别，具有<strong>提交(commit)和回滚(rollback)事务</strong>的能力。并且，InnoDB 默认使用的 <strong>REPEATABLE-READ（可重读）隔离级别</strong>是可以<strong>解决幻读</strong>问题发生的（基于 MVCC 和 Next-Key Lock）。</p>
</li>
<li><p><strong>是否支持外键</strong></p>
<p><strong>MyISAM 不支持，而 InnoDB 支持。</strong></p>
<ul>
<li>外键对于维护数据一致性非常有帮助，但是对性能有一定的损耗。</li>
<li>一般我们也是不建议在数据库层面使用外键的，应用层面可以解决。不过，这样会对数据的一致性造成威胁。具体要不要使用外键还是要根据你的项目来决定。</li>
</ul>
</li>
<li><p><strong>是否支持数据库异常崩溃后的安全恢复</strong></p>
<p>使用 InnoDB 的数据库在异常崩溃后，数据库重新启动的时候会保证数据库恢复到崩溃前的状态。这个恢复的过程依赖于 <code>redo log</code> 。</p>
</li>
<li><p><strong>是否支持 MVCC</strong></p>
<p>MyISAM 不支持，而 InnoDB 支持。</p>
<ul>
<li>MVCC 可以看作是行级锁的一个升级，可以有效减少加锁操作，提高性能。</li>
</ul>
</li>
<li><p><strong>索引实现不一样</strong></p>
<p>MyISAM 引擎和 InnoDB 引擎都是使用 <strong>B+Tree 作为索引结构</strong>，但是两者的实现方式不一样。</p>
<p>InnoDB 引擎中，其数据文件本身就是索引文件。相比 MyISAM，索引文件和数据文件是分离的，其表数据文件本身就是按 B+Tree 组织的一个索引结构，树的叶节点 data 域保存了完整的数据记录。</p>
</li>
<li><p><strong>性能有差别</strong></p>
<p>InnoDB 的性能比 MyISAM 更强大</p>
</li>
</ol>
<h4 id="–-MyISAM-和-InnoDB-如何选择？"><a href="#–-MyISAM-和-InnoDB-如何选择？" class="headerlink" title="– MyISAM 和 InnoDB 如何选择？"></a>– MyISAM 和 InnoDB 如何选择？</h4><p>大多数时候使用的都是 InnoDB 存储引擎，在某些<strong>读密集的情况</strong>下，使用 MyISAM 也是合适的。不过，前提是不介意 MyISAM 不支持事务、崩溃恢复等缺点（可是~我们一般都会介意！）。</p>
<h3 id="【MySQL-索引】"><a href="#【MySQL-索引】" class="headerlink" title="【MySQL 索引】"></a>【MySQL 索引】</h3></div><div class="post-copyright"><div class="post-copyright-author"><span class="post-copyright-meta">本文作者: </span><span class="post-copyright-info"><a href="mailto:undefined">lyl_L-</a></span></div><div class="post-copyright-type"><span class="post-copyright-meta">本文链接: </span><span class="post-copyright-info"><a href="https://sunrisel135.github.io/blog_lyl/2024/03/13/%E6%95%B0%E6%8D%AE%E5%BA%93%E9%9D%A2%E8%AF%95-MySQL/">https://sunrisel135.github.io/blog_lyl/2024/03/13/数据库面试-MySQL/</a></span></div><div class="post-copyright-notice"><span class="post-copyright-meta">本文声明: </span><span class="post-copyright-info">内容均为个人总结，仅供个人参考！</span></div></div></article><div id="pagination"><div class="prev-post pull-left"><span class="line line-top"></span><span class="line line-right"></span><span class="line line-bottom"></span><span class="line line-left"></span><a href="/blog_lyl/2024/03/13/%E6%95%B0%E6%8D%AE%E5%BA%93%E9%9D%A2%E8%AF%95-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/"><i class="fas fa-angle-left">&nbsp;</i><span>数据库面试-数据库基础</span></a></div><div class="next-post pull-right"><span class="line line-top"></span><span class="line line-right"></span><span class="line line-bottom"></span><span class="line line-left"></span><a href="/blog_lyl/2024/03/13/%E5%AD%97%E7%AC%A6%E9%9B%86/"><span>字符集</span><span>&nbsp;</span><i class="fas fa-angle-right"></i></a></div></div><!--div!= paginator()--></div></div><div class="button-hover" id="return-top"><i class="fas fa-arrow-up" aria-hidden="true"></i></div><footer><div id="footer"><div class="button-hover" id="side-button"><i class="fas fa-arrow-right"></i></div><div class="right-content"><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fas fa-file-o"></i></span><span id="busuanzi_value_page_pv"></span><span></span></div><div class="copyright">&copy;2024 By lyl_L-</div></div></div></footer></div><!--js(src=url_for(url) + '?version=' + version())--><script src="/blog_lyl/js/thirdparty/jquery-3.3.1.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/blog_lyl/js/thirdparty/velocity.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/blog_lyl/js/thirdparty/jquery.mCustomScrollbar.concat.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/blog_lyl/js/fan.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/blog_lyl/js/canvas_bg.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/blog_lyl/js/utils.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/blog_lyl/js/scroll.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/blog_lyl/js/sidebar.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/blog_lyl/js/copy.js"></script><!--script(src=url)--></body></html>