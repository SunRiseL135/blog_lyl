<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="token-cookie-session区别"><meta name="keywords" content="知识点"><meta name="author" content="lyl_L-,undefined"><meta name="copyright" content="lyl_L-"><title>token-cookie-session区别【lyl'blog】</title><link rel="stylesheet" href="/blog_lyl/css/fan.css"><link rel="stylesheet" href="/blog_lyl/css/thirdparty/jquery.mCustomScrollbar.min.css"><link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css"><link rel="icon" href="/blog_lyl/L.ico"><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- script(src=url_for("/js/mathjax/mathjax.js"))--><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {inlineMath: [['$', '$'], ['\\(', '\\)']]}
});
</script><script>var isPassword = '' || false;
if (isPassword) {
    if (prompt('请输入文章密码') !== '') {
        alert('密码错误！');
        history.back();
    }
}</script><script>window.GLOBAL_CONFIG = {
  root: '/blog_lyl/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  gitment: {},
  valine: {},
  twikoo: {},
}</script><meta name="generator" content="Hexo 7.1.1"><link rel="alternate" href="/blog_lyl/atom.xml" title="lyl'blog" type="application/atom+xml">
</head><body><canvas id="universe"></canvas><!--#body--><div id="sidebar"><div class="toggle-sidebar-info button-hover"><span data-toggle="文章目录">站点概览</span></div><div class="sidebar-toc"><div class="sidebar-toc-title">目录</div><div class="sidebar-toc-progress"><span class="progress-notice">您已阅读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc-progress-bar"></div></div><div class="sidebar-toc-content" id="sidebar-toc-content"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#cookie"><span class="toc-number">1.</span> <span class="toc-text">cookie</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#session"><span class="toc-number">2.</span> <span class="toc-text">session</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JWT%EF%BC%88json-Web-token%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">JWT（json Web token）</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info-avatar"><img class="author-info-avatar-img" src="/blog_lyl/images/Java.png"></div><div class="author-info-name">lyl_L-</div><div class="author-info-description"></div><div class="links-buttons"><a class="links-button button-hover" href="https://github.com/SunRiseL135" target="_blank">GitHub<i class="icon-dot bg-color2"></i></a></div><div class="author-info-articles"><a class="author-info-articles-archives article-meta" href="/blog_lyl/archives"><span class="pull-top">日志</span><span class="pull-bottom">22</span></a><a class="author-info-articles-tags article-meta" href="/blog_lyl/tags"><span class="pull-top">标签</span><span class="pull-bottom">6</span></a><a class="author-info-articles-categories article-meta" href="/blog_lyl/categories"><span class="pull-top">分类</span><span class="pull-bottom">16</span></a></div></div></div><div id="main-container"><header><div id="menu-outer"><i class="menu-list-icon fas fa-bars"></i><nav id="menu-inner"><a class="menu-item" href="/blog_lyl">首页</a><a class="menu-item" href="/blog_lyl/tags">标签</a><a class="menu-item" href="/blog_lyl/categories">分类</a><a class="menu-item" href="/blog_lyl/archives">归档</a><a class="menu-item" href="/blog_lyl/about">关于</a></nav><div class="right-info"><a class="title-name" href="/blog_lyl/">lyl'blog</a><span id="now-time"></span></div></div></header><div id="content-outer"><div id="content-inner"><article id="post"><div class="post-header"><div class="title">token-cookie-session区别</div><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> 发表于 2024-03-21 | 更新于 2024-03-21</time><!--time.button-hover.post-date #[i.fas.fa-calendar-alt.article-icon(aria-hidden="true")] #[=__('post.modified')] #[=date(page['updated'], config.date_format)]--><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/blog_lyl/categories/token/">token</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/blog_lyl/tags/%E7%9F%A5%E8%AF%86%E7%82%B9/">知识点</a></div></div></div><div class="main-content"><p> token、cookiesession区别以及用途…</p>
<span id="more"></span>



<h4 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h4><ol>
<li><strong>存储在客户端</strong></li>
<li><strong>帮助在客户端和服务器之间维持状态信息</strong></li>
</ol>
<p><strong>举例：用户登录、登录验证举例：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">前端  --登录request--&gt;  服务端  </span><br><span class="line">--&gt; 认证通过，响应用户名到前端 response:set-cookie </span><br><span class="line">--&gt;  前端 ：将用户名保存到cookie(保存在浏览器端)  </span><br><span class="line">--&gt;  登录成功，后续所有请求自动带上cookie，维持了用户的登录状态</span><br></pre></td></tr></table></figure>

<p><strong>缺点：</strong></p>
<ol>
<li>安全风险：有被篡改风险（在浏览器中篡改cookie）</li>
<li>容量限制：4kb</li>
<li>可用限制：用户（浏览器）可能禁用了cookie</li>
</ol>
<h4 id="session"><a href="#session" class="headerlink" title="session"></a>session</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">前端  --登录请求--&gt;  后端 --&gt; 验证成功，往session中存入用户信息 --&gt; 响应，respon-header:set-cookie(sessionID)（响应头中存入set-cookie属性，sessionid自动存入该属性） --&gt; 下一次的请求自动的在请求头端设置cookie信息 --&gt; 服务端拿到sessionID就可得到此次请求对应的session信息，就可以获取到当前用户信息，以维持当前登录状态</span><br></pre></td></tr></table></figure>

<p>只需在后端存入当前用户信息（不仅仅可存字符串，甚至可存整个User对象），下次获取非常方便。</p>
<p>web服务器如tomcat会自动在响应头里存入set-cookie(sessionID)，浏览器发现该属性就会自动的存入<strong>sessionID</strong>到cookie里面，下一次的请求，也会把cookie传到服务器端。（<strong>整个过程都是自动完成，我们只需向session中存储数据即可</strong>）</p>
<p><strong>优点：</strong></p>
<ol>
<li>安全性高：存储在服务器端（只能存在一台服务器中）</li>
<li>容量大：可以保存对象</li>
</ol>
<p><strong>缺点：</strong></p>
<ol>
<li>占用服务器字眼</li>
<li>扩展性差（分布式集群）</li>
<li>依然需要依赖cookie    跨域限制</li>
</ol>
<h4 id="JWT（json-Web-token）"><a href="#JWT（json-Web-token）" class="headerlink" title="JWT（json Web token）"></a>JWT（json Web token）</h4><p>通过json进行传递的加密后的字符串。</p>
<p>字符的分三段字符串（分前后顺序）：</p>
<ol>
<li>header：包括算法和token类型</li>
<li>payload：数据</li>
<li>signature：密钥： base64加密后的 ( header+payload+自己知道的私钥），再通过header中指定的算法生成的字符串</li>
</ol>
<p><strong>多个服务器（集群）的情况：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">前端 -登录信息-&gt; 服务器：鉴权成功，creat jwt -response:&#123;token:xxx.xxx.xxx&#125;-&gt;</span><br><span class="line">-&gt; 前端：要想想得到数据，只要拿到token的第二段字符串，通过base64方式解码即可</span><br></pre></td></tr></table></figure>

</div><div class="post-copyright"><div class="post-copyright-author"><span class="post-copyright-meta">本文作者: </span><span class="post-copyright-info"><a href="mailto:undefined">lyl_L-</a></span></div><div class="post-copyright-type"><span class="post-copyright-meta">本文链接: </span><span class="post-copyright-info"><a href="https://sunrisel135.github.io/blog_lyl/2024/03/21/token-cookie-session%E5%8C%BA%E5%88%AB/">https://sunrisel135.github.io/blog_lyl/2024/03/21/token-cookie-session区别/</a></span></div><div class="post-copyright-notice"><span class="post-copyright-meta">本文声明: </span><span class="post-copyright-info">内容均为个人总结，仅供个人参考！</span></div></div></article><div id="pagination"><div class="prev-post pull-left"><span class="line line-top"></span><span class="line line-right"></span><span class="line line-bottom"></span><span class="line line-left"></span><a href="/blog_lyl/2024/03/24/github-%E9%A1%B9%E7%9B%AE%E4%B8%8A%E4%BC%A0/"><i class="fas fa-angle-left">&nbsp;</i><span>github-项目上传</span></a></div><div class="next-post pull-right"><span class="line line-top"></span><span class="line line-right"></span><span class="line line-bottom"></span><span class="line line-left"></span><a href="/blog_lyl/2024/03/17/Knife4j-API%E6%96%87%E6%A1%A3%E7%94%9F%E6%88%90/"><span>Knife4j-API文档生成</span><span>&nbsp;</span><i class="fas fa-angle-right"></i></a></div></div><!--div!= paginator()--></div></div><div class="button-hover" id="return-top"><i class="fas fa-arrow-up" aria-hidden="true"></i></div><footer><div id="footer"><div class="button-hover" id="side-button"><i class="fas fa-arrow-right"></i></div><div class="right-content"><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fas fa-file-o"></i></span><span id="busuanzi_value_page_pv"></span><span></span></div><div class="copyright">&copy;2024 By lyl_L-</div></div></div></footer></div><!--js(src=url_for(url) + '?version=' + version())--><script src="/blog_lyl/js/thirdparty/jquery-3.3.1.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/blog_lyl/js/thirdparty/velocity.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/blog_lyl/js/thirdparty/jquery.mCustomScrollbar.concat.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/blog_lyl/js/fan.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/blog_lyl/js/canvas_bg.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/blog_lyl/js/utils.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/blog_lyl/js/scroll.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/blog_lyl/js/sidebar.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/blog_lyl/js/copy.js"></script><!--script(src=url)--></body></html>